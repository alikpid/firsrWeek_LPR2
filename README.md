Тудушка с сомнительным кодом и неправильным делением на компоненты. Переделать по возможности, либо начать заново
